# Git flow

## Правила оформления коммитов

Коммиты именуются на русском языке.

В проекте используется [commitizen](http://commitizen.github.io/cz-cli/) — он позволяет автоматизировать форматирование имен коммитов. Запускается при вызове `git commit`.

Для оформления сообщения коммита используется следующий шаблон:

```
тип(область изменения): краткое описание изменений

Подробное описание

BREAKING CHANGE:
Описание ломающих обратную совместимость изменений
```

### Тип

Возможные типы:

- `feat` - используется при добавлении новой функциональности
- `test` - все, что связано с тестированием
- `fix` - исправление баги
- `refactor` - рефакторинг кода
- `docs` - все, что касается документации
- `chore` - добавление/обновление/настройка инструментов и библиотек

### Область изменения (скоуп)

**Примеры областей:**

```
// пакеты
select
button
text
hooks
...

// инфраструктура
deps
build
storybook
...
```

### Краткое описание изменений

Коротко и понятно описываем действие, которое происходит в этом коммите.

**Стиль:**

```
действие (с маленькой буквы) + для какой сущности + (необязательно подробности)
```

**Например:**

```
feat(hooks): добавить хук useSelect

test(select): протестировать очистку

fix(modal): исправить позиционирование на экранах <500px
```

### Подробное описание (опционально)

Заполнение тела коммита опционально. Нужно в том случае, если описание решенной проблемы достаточно сложно и не может уместиться в строку заголовка.

### BREAKING CHANGE

Описание изменений, ломающих обратную совместимость.

Что относится к ломающим изменениям:

- удаление существующего свойства API компонента, которое могло быть использовано юзерами
- изменение в работе существующего свойства API
- удаление компонента
- отказ от поддержки какого-то браузера, который до этого поддерживался
- изменения в дизайне компонента

Что не относится к ломающим изменениям:

- рефакторинг компонента, т.е. внутренние изменения, не влияющие на API
- добавление нового API в существующий компонент (aka добавление новых пропсов)

## Правила оформления PR

## Как влить PR в master?

В проекте принято вливать PR с помощью `git rebase` и `git merge --squash`. Обычный `git merge` не используется.

![git-flow-pic-1](static/git-flow/git-flow-pic-1.png)

### Что выбрать: rebase или squash?

- `rebase`: если коммиты в PR оформлены с использованием `commitizen` и по правилам [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/#summary), описания коммитов понятны и соответствуют сделанной в них работе
- `squash`: в ином случае
